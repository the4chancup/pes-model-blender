class Bone:
	def __init__(self, name, sklParent, renderParent, startPosition, endPosition, matrix):
		self.name = name
		self.sklParent = sklParent
		self.renderParent = renderParent
		self.startPosition = startPosition
		self.endPosition = endPosition
		self.matrix = matrix

#
# Bone matrices.
# The body bone matrices are derived from the pose matrices of reference .models, and cross-referenced against pes17 body.skl.
# The hand bone matrices are derived from the pose matrices of reference .models, and cross-referenced against *pes19* hand.skl, for pes17 doesn't come with hand.skl files.
# The face bone matrices are derived from pes19 face.skl, for pes17 doesn't come with either a face.skl or useful reference .models --
#  each individual face has different face bone geometry (via face_diff.bin), so no good reference is available. The pes19 face can function as a suitable baseline.
#

_matrices = {}
for (name, matrix) in [
	('sk_belly',                 (-0.000000000048869, -0.000000000048410, -1.000000000000000, -0.000000000000000,  0.996592223644257,  0.082486443221569, -0.000000000052695,  1.096122026443481,  0.082486443221569, -0.996592223644257,  0.000000000044214,  0.000000000000000)),
	('sk_thigh_l',               ( 0.121671997010708,  0.000017310700059, -0.992570400238037,  0.090000003576279, -0.989114224910736,  0.083380497992039, -0.121246896684170,  0.959976792335510,  0.082758910953999,  0.996517777442932,  0.010162189602852,  0.052899211645126)),
	('sk_thigh_r',               (-0.121671997010708, -0.000017310569092, -0.992570400238037, -0.090000003576279, -0.989114224910736,  0.083380497992039,  0.121246896684170,  0.959976792335510,  0.082758910953999,  0.996517777442932, -0.010162189602852,  0.052899211645126)),
	('sk_chest',                 (-0.000000000048712, -0.000000000048567, -1.000000000000000, -0.000000000008172,  0.996321320533752,  0.085696920752525, -0.000000000052695,  1.262773990631104,  0.085696920752525, -0.996321320533752,  0.000000000044214,  0.013793559744954)),
	('sk_leg_l',                 ( 0.119495302438736,  0.022911880165339, -0.992570400238037,  0.141255199909210, -0.987134993076324, -0.104229398071766, -0.121246896684170,  0.543305397033691, -0.106233000755310,  0.994289278984070,  0.010162189602852,  0.087761990725994)),
	('sk_leg_r',                 (-0.119495302438736, -0.022911880165339, -0.992570400238037, -0.141255199909210, -0.987134993076324, -0.104229398071766,  0.121246896684170,  0.543305397033691, -0.106233000755310,  0.994289278984070, -0.010162189602852,  0.087761990725994)),
	('sk_neck',                  (-0.000000000043352, -0.000000000053407, -1.000000000000000, -0.000000000021492,  0.981845498085022,  0.189682304859161, -0.000000000052695,  1.532055020332336,  0.189682304859161, -0.981845498085022,  0.000000000044214,  0.033468078821898)),
	('sk_shoulder_l',            ( 1.000000000000000,  0.000000741771487, -0.000008623334907,  0.105080202221870, -0.000008623335816,  0.000000098744557, -1.000000000000000,  1.467054009437561, -0.000000741770577,  1.000000000000000,  0.000000098750952,  0.033468391746283)),
	('sk_shoulder_r',            (-1.000000000000000,  0.000005110192888,  0.000008735045412, -0.105082303285599,  0.000008735049050,  0.000000697936684,  1.000000000000000,  1.467056035995483,  0.000005110186976,  1.000000000000000, -0.000000697981307,  0.033468548208475)),
	('sk_foot_l',                ( 0.070736750960350, -0.098996907472610, -0.992570400238037,  0.194046497344971, -0.507080793380737,  0.853327691555023, -0.121246896684170,  0.107203602790833,  0.858990907669067,  0.511889994144440,  0.010162189602852,  0.040829788893461)),
	('sk_foot_r',                (-0.070736773312092,  0.098996892571449, -0.992570400238037, -0.194046497344971, -0.507080972194672,  0.853327572345734,  0.121246896684170,  0.107203602790833,  0.858990788459778,  0.511890172958374, -0.010162189602852,  0.040829788893461)),
	('sk_head',                  (-0.000000000052695, -0.000000000044214, -1.000000000000000, -0.000000000026261,  1.000000000000000,  0.000001341113943, -0.000000000052695,  1.640058040618896,  0.000001341113943, -1.000000000000000,  0.000000000044214,  0.054333139210939)),
	('sk_upperarm_l',            ( 0.703845322132111,  0.095846496522427, -0.703857421875000,  0.194999694824219, -0.707112908363342, -0.000000805942818, -0.707100689411163,  1.467053055763245, -0.067773133516312,  0.995396077632904,  0.067774303257465,  0.033467318862677)),
	('sk_upperarm_r',            (-0.703857183456421, -0.095845006406307, -0.703845679759979, -0.195002004504204, -0.707101106643677,  0.000000800612497,  0.707112491130829,  1.467056035995483, -0.067773200571537,  0.995396196842194, -0.067772097885609,  0.033470351248980)),
	('sk_forearm_r',             (-0.704681277275085,  0.089592643082142, -0.703844606876373, -0.399120509624481, -0.683005988597870,  0.183011904358864,  0.707113504409790,  1.261996984481812,  0.192164093255997,  0.979019820690155, -0.067772790789604,  0.013815060257912)),
	('sk_forearm_l',             ( 0.704670190811157, -0.089588053524494, -0.703856408596039,  0.399114906787872, -0.683017790317535,  0.183013394474983, -0.707101583480835,  1.261989951133728,  0.192163005471230,  0.979019880294800,  0.067773841321468,  0.013814100064337)),
	('sk_hand_l',                ( 0.709520697593689,  0.034137610346079, -0.703857123851776,  0.603469491004944, -0.704421877861023,  0.061628140509129, -0.707100987434387,  1.063915014266968,  0.019238669425249,  0.997515201568604,  0.067773707211018,  0.069541372358799)),
	('sk_hand_r',                (-0.709532618522644, -0.034135069698095, -0.703845322132111, -0.603478610515594, -0.704409897327423,  0.061628699302673,  0.707112908363342,  1.063925027847290,  0.019239710643888,  0.997515201568604, -0.067772656679153,  0.069542750716209)),
	('dsk_hip',                  ( 0.000000000045579,  0.000000000052695,  1.000000000000000,  0.000000000004670,  0.984798729419708, -0.173699706792831, -0.000000000035733,  0.992084801197052,  0.173699706792831,  0.984798729419708, -0.000000000059811, -0.018360320478678)),
	('dsk_deltoid_l',            ( 0.703639984130859,  0.097341381013393, -0.703857481479645,  0.195000201463699, -0.707111299037933, -0.001502868952230, -0.707100689411163,  1.467053055763245, -0.069887958467007,  0.995249927043915,  0.067773707211018,  0.033468458801508)),
	('dsk_deltoid_r',            (-0.703867197036743, -0.047811370342970, -0.708720684051514, -0.195000201463699, -0.707091271877289, -0.048030391335487,  0.705489218235016,  1.467053055763245, -0.067770540714264,  0.997700929641724,  0.000000011865350,  0.033468458801508)),
	('dsk_upperarm_long_l',      ( 0.703639984130859,  0.097341381013393, -0.703857481479645,  0.195000201463699, -0.707111299037933, -0.001502868952230, -0.707100689411163,  1.467053055763245, -0.069887958467007,  0.995249927043915,  0.067773707211018,  0.033468458801508)),
	('dsk_upperarm_long_r',      (-0.703652799129486, -0.097331710159779, -0.703846096992493, -0.195002302527428, -0.707099020481110, -0.001505002961494,  0.707113027572632,  1.467056989669800, -0.069883801043034,  0.995250880718231, -0.067764163017273,  0.033469140529633)),
	('dsk_upperarm_l',           ( 0.703640520572662,  0.097340643405914, -0.703857183456421,  0.195000201463699, -0.707110881805420, -0.001502753002569, -0.707100987434387,  1.467053055763245, -0.069887392222881,  0.995249986648560,  0.067773237824440,  0.033468421548605)),
	('dsk_upperarm_r',           (-0.703653097152710, -0.097331710159779, -0.703845798969269, -0.195002302527428, -0.707098722457886, -0.001504941028543,  0.707113325595856,  1.467056035995483, -0.069883793592453,  0.995250880718231, -0.067764170467854,  0.033469140529633)),
	('dsk_trapezius_l',          ( 0.910435974597931, -0.108659200370312, -0.399123400449753,  0.062974952161312, -0.396310806274414,  0.047298759222031, -0.916897177696228,  1.583065032958984,  0.118507400155067,  0.992953181266785, -0.000000316483806, -0.016674570739269)),
	('dsk_trapezius_r',          (-0.910436093807220,  0.108658403158188, -0.399123311042786, -0.062974952161312, -0.396310806274414,  0.047298781573772,  0.916897296905518,  1.583065032958984,  0.118506699800491,  0.992953300476074, -0.000000005520288, -0.016674570739269)),
	('dsk_wrist_l',              ( 0.701457977294922,  0.037259109318256,  0.711736083030701,  0.603469789028168,  0.709475576877594,  0.058537591248751, -0.702294588088989,  1.063915967941284, -0.067830190062523,  0.997589707374573,  0.014627239666879,  0.069541312754154)),
	('dsk_wrist_r',              (-0.701454877853394, -0.037256501615047,  0.711739420890808, -0.603478789329529,  0.709478795528412,  0.058538299053907,  0.702291190624237,  1.063925981521606, -0.067828930914402,  0.997589707374573, -0.014629280194640,  0.069542698562145)),
	('dsk_elbow_l',              ( 0.089588090777397,  0.430440902709961, -0.898161828517914,  0.397880494594574, -0.183013394474983, -0.879318296909332, -0.439665108919144,  1.260455965995789, -0.979019880294800,  0.203764393925667,  0.000000029388451, -0.015017109923065)),
	('dsk_elbow_r',              (-0.089579001069069, -0.430250108242035, -0.898254096508026, -0.397881001234055, -0.183092206716537, -0.879396200180054,  0.439476490020752,  1.260460019111633, -0.979005992412567,  0.203831195831299, -0.000000021706020, -0.015017010271549)),
	('dsk_forearm_l',            ( 0.704670190811157, -0.089588053524494, -0.703856408596039,  0.532720983028412, -0.683017790317535,  0.183013394474983, -0.707101583480835,  1.132490038871765,  0.192163005471230,  0.979019880294800,  0.067773841321468,  0.050248268991709)),
	('dsk_forearm_r',            (-0.704697906970978,  0.089595958590508, -0.703827679157257, -0.532727420330048, -0.682989180088043,  0.183009296655655,  0.707130372524261,  1.132496953010559,  0.192163005471230,  0.979019999504089, -0.067773163318634,  0.050249669700861)),
	('dsk_forearm_t_l',          ( 0.704670190811157, -0.089588053524494, -0.703856408596039,  0.399114906787872, -0.683017790317535,  0.183013394474983, -0.707101583480835,  1.261989951133728,  0.192163005471230,  0.979019880294800,  0.067773841321468,  0.013814100064337)),
	('dsk_forearm_t_r',          (-0.704681277275085,  0.089592643082142, -0.703844606876373, -0.399120509624481, -0.683005988597870,  0.183011904358864,  0.707113504409790,  1.261996984481812,  0.192164093255997,  0.979019820690155, -0.067772790789604,  0.013815060257912)),
	('dsk_neckback',             ( 0.000002467344075,  0.000022636999347,  1.000000000000000,  0.000003689239975, -0.000000665745404,  1.000000000000000, -0.000022636999347,  1.620349049568176, -1.000000000000000, -0.000000665689527,  0.000002467359991,  0.044333308935165)),
	('dsk_scm',                  ( 1.000000000000000,  0.000000000036381,  0.000000266405095, -0.000000000000000, -0.000000000036500,  1.000000000000000,  0.000000449273699,  1.581156969070435, -0.000000266405095, -0.000000449273699,  1.000000000000000,  0.042954310774803)),
	('dsk_collar_l',             ( 0.000000087692527, -0.000000343455298,  1.000000000000000,  0.060001350939274,  0.967845976352692, -0.251543611288071, -0.000000171266805,  1.531743049621582,  0.251543611288071,  0.967845976352692,  0.000000310353414,  0.033448461443186)),
	('dsk_collar_r',             (-0.000000081705721,  0.000000343461096,  1.000000000000000, -0.059998638927937, -0.967846095561981,  0.251542896032333, -0.000000165473807,  1.531748056411743, -0.251542896032333, -0.967846095561981,  0.000000311864994,  0.033448759466410)),
	('dsk_clavicle_l',           ( 0.912726521492004,  0.348999887704849, -0.212437003850937,  0.014002120122313, -0.175385802984238, -0.134931996464729, -0.975209295749664,  1.500000000000000, -0.369012504816055,  0.927357792854309, -0.061946339905262,  0.096118502318859)),
	('dsk_clavicle_r',           (-0.912726223468781, -0.349009513854980, -0.212422400712967, -0.013997879810631, -0.175371006131172, -0.134928107261658,  0.975212514400482,  1.500000000000000, -0.369020104408264,  0.927354693412781,  0.061946291476488,  0.096118532121181)),
	('dsk_pectoralis_l',         ( 0.776952385902405,  0.467359095811844,  0.421806186437607,  0.027025330811739,  0.361451685428619,  0.217423900961876, -0.906686007976532,  1.356544017791748, -0.515458703041077,  0.856914401054382,  0.000000332366710,  0.201848894357681)),
	('dsk_pectoralis_r',         (-0.776952028274536, -0.467359602451324,  0.421806305646896, -0.027025330811739,  0.361451685428619,  0.217424005270004,  0.906686007976532,  1.356544017791748, -0.515459179878235,  0.856914103031158, -0.000000049036110,  0.201848894357681)),
	('dsk_belly_scale',          ( 0.000000000041193, -0.000000000044744, -1.000000000000000,  0.000000000000000,  1.000000000000000,  0.000000000000000,  0.000000000041193,  1.096122026443481,  0.000000000000000, -1.000000000000000,  0.000000000044744,  0.000000000000000)),
	('dsk_scapula_l',            ( 0.814198911190033, -0.236866399645805,  0.530070185661316,  0.067821383476257,  0.508969604969025, -0.148068696260452, -0.847953796386719,  1.403161048889160,  0.279338598251343,  0.960192680358887,  0.000000407630296, -0.092945337295532)),
	('dsk_scapula_r',            (-0.814199209213257,  0.236865594983101,  0.530070126056671, -0.067821383476257,  0.508969485759735, -0.148068800568581,  0.847953796386719,  1.403161048889160,  0.279338002204895,  0.960192799568176,  0.000000053357891, -0.092945337295532)),
	('dsk_knee_l',               ( 0.004068521782756, -0.121607497334480, -0.992569923400879,  0.141441002488136,  0.051281310617924,  0.991297483444214, -0.121241398155689,  0.542855083942413,  0.998676002025604, -0.050407011061907,  0.010269310325384,  0.104281798005104)),
	('dsk_knee_r',               (-0.003962075803429,  0.121607497334480, -0.992570400238037, -0.141455098986626,  0.051262669265270,  0.991297781467438,  0.121246896684170,  0.542855918407440,  0.998677313327789, -0.050401408225298, -0.010161519981921,  0.104381598532200)),
	('dsk_foot_l',               ( 0.070736311376095, -0.098997399210930, -0.992570281028748,  0.194046497344971, -0.507081091403961,  0.853327572345734, -0.121247097849846,  0.107203401625156,  0.858990788459778,  0.511890172958374,  0.010161539539695,  0.040829788893461)),
	('dsk_foot_r',               (-0.070736236870289,  0.098997280001640, -0.992570400238037, -0.194046497344971, -0.507081091403961,  0.853327572345734,  0.121246896684170,  0.107203401625156,  0.858990788459778,  0.511890172958374, -0.010161539539695,  0.040829788893461)),
	('dsk_ear_t_l',              ( 0.347594588994980,  0.937644898891449,  0.000000000042097,  0.075501002371311, -0.000000000000000,  0.000000000044897, -1.000000000000000,  1.700248003005981, -0.937644898891449,  0.347594588994980,  0.000000000015606,  0.071949630975723)),
	('dsk_ear_b_l',              (-0.203543797135353,  0.037639740854502, -0.978341996669769,  0.074910998344421, -0.962031424045563,  0.177900806069374,  0.206994801759720,  1.697432041168213,  0.181839093565941,  0.983328282833099,  0.000000000044148,  0.072978362441063)),
	('dsk_ear_t_r',              ( 0.347594588994980,  0.937644898891449, -0.000000000042097, -0.075498990714550, -0.000000000000000,  0.000000000044897,  1.000000000000000,  1.700250029563904,  0.937644898891449, -0.347594588994980,  0.000000000015606,  0.071949630975723)),
	('dsk_ear_b_r',              (-0.203543797135353,  0.037639740854502, -0.978341996669769, -0.074909001588821,  0.962031424045563, -0.177900806069374, -0.206994801759720,  1.697430014610291, -0.181839093565941, -0.983328282833099,  0.000000000044148,  0.072978429496288)),
	('dsk_toe_l',                ( 0.029123919084668, -0.095876753330231, -0.994967103004456,  0.202631399035454, -0.289187401533127,  0.952013671398163, -0.100202597677708,  0.045661710202694,  0.956829428672791,  0.290650308132172,  0.000000019429191,  0.145080894231796)),
	('dsk_toe_r',                (-0.029124369844794,  0.095877341926098, -0.994966983795166, -0.202631399035454, -0.289189904928207,  0.952012896537781,  0.100203298032284,  0.045661710202694,  0.956828594207764,  0.290652811527252, -0.000000017647650,  0.145080894231796)),
	('dsk_hem_l',                ( 0.121671997010708,  0.000016632000552, -0.992570400238037,  0.090000003576279, -0.989114224910736,  0.083380430936813, -0.121247000992298,  0.959976613521576,  0.082758933305740,  0.996517777442932,  0.010161519981921,  0.052899211645126)),
	('dsk_hem_r',                (-0.121671997010708, -0.000016631920516, -0.992570400238037, -0.090000003576279, -0.989114224910736,  0.083380430936813,  0.121247000992298,  0.959976613521576,  0.082758933305740,  0.996517777442932, -0.010161519981921,  0.052899211645126)),
	('dsk_hem_f_l',              ( 0.107529498636723,  0.001633779960684, -0.994200527667999,  0.093348219990730, -0.994085788726807, -0.015103950165212, -0.107541896402836,  0.865390300750732, -0.015192059800029,  0.999884605407715, -0.000000002668015,  0.186250105500221)),
	('dsk_hem_o_l',              ( 0.091770179569721, -0.003264772007242, -0.995774924755096,  0.199054896831512, -0.995145320892334,  0.035402800887823, -0.091828241944313,  0.867955625057220,  0.035553019493818,  0.999367773532867, -0.000000001005630,  0.061500091105700)),
	('dsk_hem_ba_l',             ( 0.067621268332005, -0.003992509096861, -0.997703075408936,  0.107128098607063, -0.995968580245972,  0.058804169297218, -0.067739032208920,  0.851665675640106,  0.058939550071955,  0.998261570930481, -0.000000001194231, -0.058457840234041)),
	('dsk_hem_i_l',              ( 0.239804193377495, -0.024286199361086, -0.970517396926880, -0.001613906002603, -0.965578317642212,  0.097789026796818, -0.241030901670456,  0.793210804462433,  0.100759699940681,  0.994910776615143, -0.000000007556085,  0.067356079816818)),
	('dsk_hem_f_r',              (-0.107529498636723, -0.001633779960684, -0.994200587272644, -0.093348219990730, -0.994085788726807, -0.015103950165212,  0.107541896402836,  0.865390300750732, -0.015192059800029,  0.999884605407715,  0.000000002756975,  0.186250105500221)),
	('dsk_hem_o_r',              (-0.091770179569721,  0.003264772007242, -0.995774924755096, -0.199054896831512, -0.995145320892334,  0.035402800887823,  0.091828241944313,  0.867955625057220,  0.035553019493818,  0.999367773532867,  0.000000001094731,  0.061500091105700)),
	('dsk_hem_ba_r',             (-0.067621268332005,  0.003992509096861, -0.997703075408936, -0.107128098607063, -0.995968580245972,  0.058804169297218,  0.067739032208920,  0.851665675640106,  0.058939550071955,  0.998261570930481,  0.000000001283505, -0.058457840234041)),
	('dsk_hem_i_r',              (-0.239804193377495,  0.024286199361086, -0.970517396926880,  0.001613906002603, -0.965578317642212,  0.097789026796818,  0.241030901670456,  0.793210804462433,  0.100759699940681,  0.994910776615143,  0.000000007642923,  0.067356079816818)),
	('dsk_earlobe_l',            ( 0.000000049971000,  0.000000000043192, -1.000000000000000,  0.068048648536205, -1.000000000000000, -0.000000000009138, -0.000000049971000,  1.664998054504395, -0.000000000009138,  1.000000000000000,  0.000000000043192,  0.079108938574791)),
	('dsk_earlobe_r',            ( 0.000000049987332, -0.000000000043192, -1.000000000000000, -0.068047493696213,  1.000000000000000, -0.000000000009138,  0.000000049987332,  1.664999961853027, -0.000000000009138, -1.000000000000000,  0.000000000043192,  0.079108268022537)),
	('tip_dsk_toe_l',            ( 0.992546081542969, -0.121445097029209,  0.010161659680307,  0.205096304416656,  0.121445097029209,  0.992597997188568,  0.000616996083409,  0.021185649558902, -0.010161370038986,  0.000621686223894,  0.999948203563690,  0.226064398884773)),
	('tip_dsk_toe_r',            ( 0.992546081542969,  0.121445000171661, -0.010161680169404, -0.205096393823624, -0.121445000171661,  0.992597997188568,  0.000617257377598,  0.021185420453548,  0.010161429643631,  0.000621429120656,  0.999948203563690,  0.226064398884773)),
	('skh_thumb_mata_l',         ( 0.194869995117188, -0.147284001111984, -0.969708025455475,  0.614665567874908, -0.679416000843048,  0.692782998085022, -0.241757005453110,  1.054546594619751,  0.707404017448425,  0.705946028232574,  0.034935001283884,  0.088121831417084)),
	('skh_thumb_mcp_l',          ( 0.495923012495041, -0.868043005466461, -0.023692000657320,  0.626917302608490, -0.581175982952118, -0.311511993408203, -0.751793980598450,  1.017848730087280,  0.645210027694702,  0.386602014303207, -0.658972024917603,  0.127588152885437)),
	('skh_thumb_pip_l',          ( 0.495923012495041, -0.868043005466461, -0.023692000657320,  0.641960680484772, -0.581175982952118, -0.311511993408203, -0.751793980598450,  1.000219345092773,  0.645210027694702,  0.386602014303207, -0.658972024917603,  0.147159948945045)),
	('skh_index_mata_l',         ( 0.500828981399536, -0.220713004469872, -0.836933016777039,  0.647342205047607, -0.665171027183533,  0.520552992820740, -0.535323977470398,  1.034740090370178,  0.553821027278900,  0.824809014797211,  0.113897003233433,  0.079477414488792)),
	('skh_index_mcp_l',          ( 0.552766978740692, -0.070005998015404, -0.830389976501465,  0.665628552436829, -0.794219017028809,  0.257454991340637, -0.550393998622894,  1.010464429855347,  0.252319008111954,  0.963751018047333,  0.086710996925831,  0.099693372845650)),
	('skh_index_pip_l',          ( 0.551846981048584, -0.069894000887871, -0.831012010574341,  0.689748883247375, -0.794483006000519,  0.258845001459122, -0.549359977245331,  0.975802898406982,  0.253500014543533,  0.963387012481689,  0.087311998009682,  0.110704168677330)),
	('skh_index_dip_l',          ( 0.552545011043549, -0.069853000342846, -0.830551028251648,  0.703227996826172, -0.794346988201141,  0.257629007101059, -0.550127029418945,  0.956392288208008,  0.252402007579803,  0.963715970516205,  0.086863003671169,  0.116896875202656)),
	('skh_middle_mata_l',        ( 0.590945005416870,  0.027939999476075, -0.806227982044220,  0.647581458091736, -0.805806994438171,  0.067768998444080, -0.588288009166718,  1.035229325294495,  0.038199998438358,  0.997309982776642,  0.062561996281147,  0.072743088006973)),
	('skh_middle_mcp_l',         ( 0.590945005416870,  0.027939999476075, -0.806227982044220,  0.668909311294556, -0.805806994438171,  0.067768998444080, -0.588288009166718,  1.006147027015686,  0.038199998438358,  0.997309982776642,  0.062561996281147,  0.074121765792370)),
	('skh_middle_pip_l',         ( 0.590945005416870,  0.027939999476075, -0.806227982044220,  0.696287751197815, -0.805806994438171,  0.067768998444080, -0.588288009166718,  0.968813896179199,  0.038199998438358,  0.997309982776642,  0.062561996281147,  0.075891569256783)),
	('skh_middle_dip_l',         ( 0.590945005416870,  0.027939999476075, -0.806227982044220,  0.711617410182953, -0.805806994438171,  0.067768998444080, -0.588288009166718,  0.947910428047180,  0.038199998438358,  0.997309982776642,  0.062561996281147,  0.076882526278496)),
	('skh_ring_mata_l',          ( 0.428974986076355,  0.232826992869377, -0.872794985771179,  0.647359371185303, -0.817860007286072, -0.310113012790680, -0.484701007604599,  1.034755945205688, -0.383516997098923,  0.921748995780945,  0.057388000190258,  0.065505549311638)),
	('skh_ring_mcp_l',           ( 0.573758006095886,  0.142358005046844, -0.806558012962341,  0.662044048309326, -0.803906023502350, -0.090457998216152, -0.587836980819702,  1.006755471229553, -0.156643003225327,  0.985673010349274,  0.062541000545025,  0.052375607192516)),
	('skh_ring_pip_l',           ( 0.573758006095886,  0.142358005046844, -0.806558012962341,  0.686790764331818, -0.803906023502350, -0.090457998216152, -0.587836980819702,  0.972082257270813, -0.156643003225327,  0.985673010349274,  0.062541000545025,  0.045619435608387)),
	('skh_ring_dip_l',           ( 0.573758006095886,  0.142358005046844, -0.806558012962341,  0.700647056102753, -0.803906023502350, -0.090457998216152, -0.587836980819702,  0.952667951583862, -0.156643003225327,  0.985673010349274,  0.062541000545025,  0.041836503893137)),
	('skh_pinky_mata_l',         ( 0.621501028537750,  0.277792990207672, -0.732506990432739,  0.611781537532806, -0.705438017845154, -0.208215996623039, -0.677497982978821,  1.058048367500305, -0.340723991394043,  0.937803983688354,  0.066559001803398,  0.056332461535931)),
	('skh_pinky_mcp_l',          ( 0.526971995830536,  0.248524993658066, -0.812734007835388,  0.653622090816498, -0.776385009288788, -0.248239994049072, -0.579312026500702,  1.010549187660217, -0.345726996660233,  0.936276018619537,  0.062134999781847,  0.033392619341612)),
	('skh_pinky_pip_l',          ( 0.526102006435394,  0.249317005276680, -0.813054025173187,  0.672210693359375, -0.776224017143250, -0.249785006046295, -0.578864991664886,  0.983170628547668, -0.347409009933472,  0.935653984546661,  0.062112998217344,  0.021199574694037)),
	('skh_pinky_dip_l',          ( 0.526642024517059,  0.248730003833771, -0.812884986400604,  0.682597637176514, -0.776389002799988, -0.248720005154610, -0.579101979732513,  0.967840075492859, -0.346219986677170,  0.936093986034393,  0.062125001102686,  0.014338493347168)),
	('skh_thumb_mata_r',         ( 0.194883003830910, -0.147293999791145, -0.969703972339630, -0.614674389362335,  0.679409980773926, -0.692782998085022,  0.241772994399071,  1.054556131362915, -0.707405984401703, -0.705944001674652, -0.034938000142574,  0.088124409317970)),
	('skh_thumb_mcp_r',          ( 0.495934009552002, -0.868036985397339, -0.023680999875069, -0.626928031444550,  0.581165015697479,  0.311526000499725,  0.751797020435333,  1.017859578132629, -0.645210981369019, -0.386604994535446,  0.658968985080719,  0.127589106559753)),
	('skh_thumb_pip_r',          ( 0.495934009552002, -0.868036985397339, -0.023680999875069, -0.641971647739410,  0.581165015697479,  0.311526000499725,  0.751797020435333,  1.000230550765991, -0.645210981369019, -0.386604994535446,  0.658968985080719,  0.147160902619362)),
	('skh_index_mata_r',         ( 0.500838994979858, -0.220707997679710, -0.836928009986877, -0.647349596023560,  0.665162980556488, -0.520559012889862,  0.535328984260559,  1.034746646881104, -0.553821980953217, -0.824806988239288, -0.113909997045994,  0.079479694366455)),
	('skh_index_mcp_r',          ( 0.552775025367737, -0.069998003542423, -0.830385029315948, -0.665626049041748,  0.794212996959686, -0.257463008165359,  0.550399005413055,  1.010448813438416, -0.252319991588593, -0.963750004768372, -0.086724996566772,  0.099693566560745)),
	('skh_index_pip_r',          ( 0.551855027675629, -0.069885998964310, -0.831007003784180, -0.689754903316498,  0.794476985931396, -0.258852988481522,  0.549364984035492,  0.975793004035950, -0.253500998020172, -0.963384985923767, -0.087325997650623,  0.110703274607658)),
	('skh_index_dip_r',          ( 0.552552998065948, -0.069844998419285, -0.830546021461487, -0.703239738941193,  0.794341027736664, -0.257636010646820,  0.550131976604462,  0.956374168395996, -0.252402991056442, -0.963714003562927, -0.086875997483730,  0.116899594664574)),
	('skh_middle_mata_r',        ( 0.590959012508392,  0.027941999956965, -0.806217014789581, -0.647589564323425,  0.805796027183533, -0.067772999405861,  0.588302016258240,  1.035239338874817, -0.038201000541449, -0.997309029102325, -0.062565997242928,  0.072745352983475)),
	('skh_middle_mcp_r',         ( 0.590959012508392,  0.027941999956965, -0.806217014789581, -0.668917894363403,  0.805796027183533, -0.067772999405861,  0.588302016258240,  1.006157398223877, -0.038201000541449, -0.997309029102325, -0.062565997242928,  0.074124060571194)),
	('skh_middle_pip_r',         ( 0.590959012508392,  0.027941999956965, -0.806217014789581, -0.696297049522400,  0.805796027183533, -0.067772999405861,  0.588302016258240,  0.968824923038483, -0.038201000541449, -0.997309029102325, -0.062565997242928,  0.075893916189671)),
	('skh_middle_dip_r',         ( 0.590959012508392,  0.027941999956965, -0.806217014789581, -0.711627125740051,  0.805796027183533, -0.067772999405861,  0.588302016258240,  0.947921752929688, -0.038201000541449, -0.997309029102325, -0.062565997242928,  0.076884888112545)),
	('skh_ring_mata_r',          ( 0.428988009691238,  0.232833996415138, -0.872786998748779, -0.647366702556610,  0.817853987216949,  0.310106009244919,  0.484715014696121,  1.034764766693115,  0.383515000343323, -0.921750009059906, -0.057392001152039,  0.065507389605045)),
	('skh_ring_mcp_r',           ( 0.573770999908447,  0.142361998558044, -0.806547999382019, -0.662053585052490,  0.803897023200989,  0.090452000498772,  0.587850987911224,  1.006766319274902,  0.156642004847527, -0.985673010349274, -0.062545001506805,  0.052377723157406)),
	('skh_ring_pip_r',           ( 0.573770999908447,  0.142361998558044, -0.806547999382019, -0.686800897121429,  0.803897023200989,  0.090452000498772,  0.587850987911224,  0.972093462944031,  0.156642004847527, -0.985673010349274, -0.062545001506805,  0.045621495693922)),
	('skh_ring_dip_r',           ( 0.573770999908447,  0.142361998558044, -0.806547999382019, -0.700657486915588,  0.803897023200989,  0.090452000498772,  0.587850987911224,  0.952679395675659,  0.156642004847527, -0.985673010349274, -0.062545001506805,  0.041838593780994)),
	('skh_pinky_mata_r',         ( 0.621513009071350,  0.277799010276794, -0.732496023178101, -0.611792027950287,  0.705429017543793,  0.208207994699478,  0.677510023117065,  1.058058857917786,  0.340723007917404, -0.937803983688354, -0.066563002765179,  0.056334279477596)),
	('skh_pinky_mcp_r',          ( 0.526983976364136,  0.248530998826027, -0.812723994255066, -0.653639197349548,  0.776377022266388,  0.248232007026672,  0.579325973987579,  1.010565280914307,  0.345724999904633, -0.936276018619537, -0.062139000743628,  0.033393885940313)),
	('skh_pinky_pip_r',          ( 0.526115000247955,  0.249323993921280, -0.813044011592865, -0.672219514846802,  0.776215970516205,  0.249777004122734,  0.578878998756409,  0.983181297779083,  0.347407996654510, -0.935654997825623, -0.062116999179125,  0.021201662719250)),
	('skh_pinky_dip_r',          ( 0.526654005050659,  0.248737007379532, -0.812874972820282, -0.682607173919678,  0.776381015777588,  0.248712003231049,  0.579115986824036,  0.967851102352142,  0.346219003200531, -0.936093986034393, -0.062128998339176,  0.014340905472636)),
	('dsk_hair',                 ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.000000000000000,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.516000032424927,  0.000000000000000,  0.000000000000000,  1.000000000000000, -0.070999994874001)),
	('skf_jaw',                  ( 0.000000000000000,  0.000000000000000, -1.000000000000000, -0.000000999999997, -0.794358015060425,  0.607450008392334,  0.000000000000000,  1.636909008026123,  0.607450008392334,  0.794358015060425,  0.000000000000000,  0.079548262059689)),
	('skf_brow_o_l',             ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.041290301829576,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.714909911155701,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.157251998782158)),
	('skf_brow_i_l',             ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.015733100473881,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.712949991226196,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.171781986951828)),
	('skf_brow_i_r',             ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.015733100473881,  0.000000000000000, -1.000000000000000,  0.000000999999997,  1.712949752807617,  0.000000000000000, -0.000000999999997, -1.000000000000000,  0.171780720353127)),
	('skf_brow_o_r',             ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.041290301829576,  0.000000000000000, -1.000000000000000,  0.000000999999997,  1.714909791946411,  0.000000000000000, -0.000000999999997, -1.000000000000000,  0.157250717282295)),
	('skf_glabella',             ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.000000010000000,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.703780055046082,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.169666007161140)),
	('skf_eyelid_t_l',           ( 0.000000000000000,  0.000000000000000, -1.000000000000000,  0.027999000623822,  0.176517993211746,  0.984296977519989,  0.000000000000000,  1.696785092353821,  0.984296977519989, -0.176517993211746,  0.000000000000000,  0.137956857681274)),
	('skf_eyelid_b_l',           ( 0.000000000000000,  0.000000000000000, -1.000000000000000,  0.027999000623822, -0.341060996055603,  0.940041005611420,  0.000000000000000,  1.695785284042358,  0.940041005611420,  0.341060996055603,  0.000000000000000,  0.137957111001015)),
	('skf_eyelid_b_r',           ( 0.000000000000000,  0.000000000000000, -1.000000000000000, -0.028001001104712,  0.341060012578964, -0.940041005611420,  0.000000000000000,  1.695784926414490, -0.940041005611420, -0.341060012578964,  0.000000000000000,  0.137955516576767)),
	('skf_eyelid_t_r',           ( 0.000000000000000,  0.000000000000000, -1.000000000000000, -0.028001001104712, -0.176520004868507, -0.984296977519989,  0.000000000000000,  1.696786403656006, -0.984296977519989,  0.176520004868507,  0.000000000000000,  0.137956514954567)),
	('skf_eye_l',                ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.027999000623822,  0.000000000000000,  1.000000000000000, -0.000000999999997,  1.696789860725403,  0.000000000000000,  0.000000999999997,  1.000000000000000,  0.137955695390701)),
	('skf_eye_r',                ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.028001001104712,  0.000000000000000,  1.000000000000000, -0.000000999999997,  1.696789860725403,  0.000000000000000,  0.000000999999997,  1.000000000000000,  0.137955695390701)),
	('skf_nose',                 ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.000000010000000,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.686319947242737,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.176345989108086)),
	('skf_nosewing_l',           ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.015319700352848,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.660299897193909,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.176471993327141)),
	('skf_nosewing_r',           ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.015319599770010,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.660299897193909,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.176471993327141)),
	('skf_cheek_l',              ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.042531099170446,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.662310004234314,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.152636006474495)),
	('skf_cheek_r',              ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.042531099170446,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.662310004234314,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.152636006474495)),
	('skf_orbicularisoculi_b_r', ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.028036199510098,  0.000000000000000, -1.000000000000000,  0.000000999999997,  1.686569809913635,  0.000000000000000, -0.000000999999997, -1.000000000000000,  0.151782676577568)),
	('skf_orbicularisoculi_b_l', ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.028033999726176,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.686569929122925,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.151785001158714)),
	('skf_cheek_s_l',            ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.047868099063635,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.621490001678467,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.139582008123398)),
	('skf_cheek_s_r',            ( 1.000000000000000,  0.000000000000000,  0.000000000000000, -0.047868099063635,  0.000000000000000,  1.000000000000000,  0.000000000000000,  1.621490001678467,  0.000000000000000,  0.000000000000000,  1.000000000000000,  0.139582008123398)),
	('skf_nasolabialfold_t_l',   ( 0.000000000000000,  0.000000000000000,  1.000000000000000,  0.021999899297953,  1.000000000000000, -0.000000999999997,  0.000000000000000,  1.649269819259644,  0.000000999999997,  1.000000000000000,  0.000000000000000,  0.165558636188507)),
	('skf_nasolabialfold_t_r',   ( 0.000000000000000,  0.000000000000000,  1.000000000000000, -0.021999899297953,  1.000000000000000, -0.000000999999997,  0.000000000000000,  1.649269819259644,  0.000000999999997,  1.000000000000000,  0.000000000000000,  0.165558636188507)),
	('skf_lip_t_l',              (-0.500000000000000,  0.296198010444641, -0.813798010349274,  0.015548476949334, -0.852868974208832, -0.005237000063062,  0.522099018096924,  1.634224176406860,  0.150381997227669,  0.955111980438232,  0.255237013101578,  0.171981349587440)),
	('skf_lip_t_c',              ( 0.000000000000000,  0.000000000000000, -1.000000000000000, -0.000000000000000, -1.000000000000000,  0.000000000000000,  0.000000000000000,  1.635389924049377,  0.000000000000000,  1.000000000000000,  0.000000000000000,  0.177182987332344)),
	('skf_lip_t_r',              (-0.500000000000000,  0.296198010444641, -0.813798010349274, -0.015548476949334,  0.852868974208832,  0.005237000063062, -0.522099018096924,  1.634224176406860, -0.150381997227669, -0.955111980438232, -0.255237013101578,  0.171981349587440)),
	('skf_lip_volume',           ( 0.000000000000000,  0.000000000000000, -1.000000000000000, -0.000000000000000, -1.000000000000000,  0.000000000000000,  0.000000000000000,  1.634609937667847,  0.000000000000000,  1.000000000000000,  0.000000000000000,  0.177178993821144)),
	('skf_lip_s_l',              (-0.930823028087616,  0.365469992160797,  0.000000000000000,  0.023588845506310, -0.000000000000000, -0.000000999999997,  1.000000000000000,  1.629689693450928,  0.365469992160797,  0.930823028087616,  0.000000999999997,  0.161470502614975)),
	('skf_lip_s_r',              (-0.930823028087616,  0.365469992160797,  0.000000000000000, -0.023589212447405,  0.000000000000000,  0.000000999999997, -1.000000000000000,  1.629689693450928, -0.365469992160797, -0.930823028087616, -0.000000999999997,  0.161471441388130)),
	('skf_lip_b_l',              (-0.342020004987717,  0.321393996477127,  0.883022010326385,  0.018454359844327,  0.808878004550934, -0.377573996782303,  0.450726985931396,  1.624387264251709,  0.478267014026642,  0.868414998054504, -0.130830004811287,  0.164138033986092)),
	('skf_lip_b_r',              (-0.342020004987717,  0.321393996477127,  0.883022010326385, -0.018454359844327, -0.808878004550934,  0.377573996782303, -0.450726985931396,  1.624387264251709, -0.478267014026642, -0.868414998054504,  0.130830004811287,  0.164138033986092)),
	('skf_doublechin',           ( 1.000000000000000,  0.000000000000000,  0.000000000000000,  0.000000010000000,  0.000000000000000,  1.000000000000000, -0.000000999999997,  1.581579804420471,  0.000000000000000,  0.000000999999997,  1.000000000000000,  0.142023578286171)),
	('skf_lip_b_c',              ( 0.000000000000000,  0.000000000000000,  1.000000000000000, -0.000000000000000,  0.939692974090576, -0.342020004987717,  0.000000000000000,  1.622024536132812,  0.342020004987717,  0.939692974090576,  0.000000000000000,  0.172813490033150)),
]:
	_matrices[name] = matrix

_displayPositions = {}
for (name, position) in [
	# Deltoid position changed slightly between pes16 and pes19.
	# Use the pes19 in the display skeleton to simplify conversions.
	('dsk_deltoid_l', (0.2162022350222288, 1.4561997783710845, 0.03137607547113095)),
	('dsk_deltoid_r', (-0.22002597529381726, 1.4542435100585476, 0.031058866329208512)),
	
	('end_sk_head', (0.0, 1.681022356787855, 0.05433228237838619)),
	('end_sk_hand_l', (0.6260914726462259, 1.0414572109364506, 0.07015598023428019)),
	('end_dsk_wrist_l', (0.6222264060214413, 1.0828874933853962, 0.06772839631676517)),
	('end_sk_hand_r', (-0.6261008309070067, 1.0414691774621152, 0.07015685853373477)),
	('end_dsk_wrist_r', (-0.6222222804527414, 1.0828838721549063, 0.06773149908259868)),
	('end_dsk_belly_scale', (3.1781030591429122e-12, 1.173273070381839, 4.41336277185847e-37)),
	('end_dsk_clavicle_l', (0.1062175811897223, 1.4822802724775037, 0.058835975100339936)),
	('end_dsk_clavicle_r', (-0.10633489259174707, 1.4822574163403393, 0.05878618375294835)),
	('end_dsk_collar_l', (0.060001350939273834, 1.560942497115828, 0.04103740000702279)),
	('end_dsk_collar_r', (-0.05999865010380745, 1.5598481437034435, 0.040751886138598356)),
	('end_dsk_hem_l', (0.10801018066022477, 0.813565583994998, 0.06514938490384005)),
	('end_dsk_hem_r', (-0.10746492984974232, 0.8179981185636946, 0.06477851587425021)),
	('end_dsk_pants_l', (0.07878347478748901, 0.7117355728250823, 0.1866884846763064)),
	('end_dsk_pants_r', (-0.0787941962349421, 0.7106333299688679, 0.18677343748412545)),
	('end_dsk_pectoralis_l', (0.13643557510633075, 1.4074434778743814, 0.1292621182178288)),
	('end_dsk_pectoralis_r', (-0.13638391197237965, 1.4074194432859608, 0.1292963934986759)),
	('end_dsk_scapula_l', (0.1523622382186313, 1.4560077884559803, -0.0639408731864657)),
	('end_dsk_scapula_r', (-0.1523640531393851, 1.45600892299317, -0.06394025051779714)),
	('end_dsk_thigh_l', (0.052583159304568125, 0.6573414777429339, 0.07822186790031281)),
	('end_dsk_thigh_r', (-0.05258315930426861, 0.6573414777453689, 0.07822186790010908)),
	('end_dsk_trapezius_l', (0.1714503522119432, 1.5358460030597723, -0.0025549088999577575)),
	('end_dsk_trapezius_r', (-0.1717144222503721, 1.5357310539335631, -0.0025205362855774023)),
	('end_dsk_hem_ba_l', (0.11756908407948237, 0.6978842732227792, -0.04935734565250231)),
	('end_dsk_hem_ba_r', (-0.1175665733671617, 0.6979212525733164, -0.04935953402101698)),
	('end_dsk_hem_f_l', (0.11098173922352624, 0.702372421035846, 0.18375879398044348)),
	('end_dsk_hem_f_r', (-0.11053282147686484, 0.7065225636285406, 0.18382221829971437)),
	('end_dsk_hem_i_l', (0.027461062845965566, 0.6761807612332583, 0.07956837169154352)),
	('end_dsk_hem_i_r', (-0.027825099173863756, 0.6746738235573221, 0.07972561050081078)),
	('end_dsk_hem_o_l', (0.21342625972052784, 0.7121142112024733, 0.06706775314299256)),
	('end_dsk_hem_o_r', (-0.21311883809893684, 0.715447856071665, 0.06694865381294339)),
	
	('end_skh_thumb_pip_l', (0.6547903143485616, 0.985184198741749, 0.1638516696597633)),
	('end_skh_index_dip_l', (0.7147005538203793, 0.9398991683477755, 0.12213752774595323)),
	('end_skh_middle_dip_l', (0.7243368851422185, 0.9305662728486314, 0.07770474140702188)),
	('end_skh_ring_dip_l', (0.7123374373358273, 0.9362882796830628, 0.0386448858141872)),
	('end_skh_pinky_dip_l', (0.6895405532339339, 0.957604652903316, 0.009774147561992446)),
	
	('end_skh_thumb_pip_r', (-0.6548019237348665, 0.9851952690416385, 0.16385311329017596)),
	('end_skh_index_dip_r', (-0.7146945981818028, 0.9399068526930432, 0.12213210764446969)),
	('end_skh_middle_dip_r', (-0.7243498018878749, 0.9305738799333122, 0.07770731225385512)),
	('end_skh_ring_dip_r', (-0.7123511766727967, 0.9362956425972435, 0.03864616508047387)),
	('end_skh_pinky_dip_r', (-0.6895537134752939, 0.9576106762192209, 0.009774294419508178)),
	
	('end_skf_jaw', (-9.999999974752427e-07, 1.5718496457120543, 0.12929951959647407)),
]:
	_displayPositions[name] = position

def bonePosition(name):
	if name in _displayPositions:
		return _displayPositions[name]
	matrix = _matrices[name]
	return (matrix[3], matrix[7], matrix[11])


bones = {}

for (name, sklParent, renderParent, startPosition, endPosition) in [
	('dsk_hip', None, None, 'dsk_hip', 'sk_belly'),
	('sk_belly', None, 'dsk_hip', 'sk_belly', 'sk_chest'),
	('sk_chest', 'sk_belly', 'sk_belly', 'sk_chest', 'sk_neck'),
	('sk_neck', 'sk_chest', 'sk_chest', 'sk_neck', 'sk_head'),
	('dsk_scm', None, 'sk_neck', 'sk_neck', 'dsk_scm'),
	('dsk_neckback', None, 'sk_neck', 'dsk_scm', 'dsk_neckback'),
	('sk_head', 'sk_neck', 'sk_neck', 'sk_head', 'end_sk_head'),
	('sk_shoulder_l', 'sk_chest', 'sk_chest', 'sk_shoulder_l', 'sk_upperarm_l'),
	('dsk_deltoid_l', None, 'sk_shoulder_l', 'sk_upperarm_l', 'dsk_deltoid_l'),
	('dsk_clavicle_l', None, 'sk_shoulder_l', 'dsk_clavicle_l', 'end_dsk_clavicle_l'),
	('dsk_pectoralis_l', None, 'sk_shoulder_l', 'dsk_pectoralis_l', 'end_dsk_pectoralis_l'),
	('dsk_scapula_l', None, 'sk_shoulder_l', 'dsk_scapula_l', 'end_dsk_scapula_l'),
	('dsk_trapezius_l', None, 'sk_shoulder_l', 'dsk_trapezius_l', 'end_dsk_trapezius_l'),
	('sk_shoulder_r', 'sk_chest', 'sk_chest', 'sk_shoulder_r', 'sk_upperarm_r'),
	('dsk_deltoid_r', None, 'sk_shoulder_r', 'sk_upperarm_r', 'dsk_deltoid_r'),
	('dsk_clavicle_r', None, 'sk_shoulder_r', 'dsk_clavicle_r', 'end_dsk_clavicle_r'),
	('dsk_pectoralis_r', None, 'sk_shoulder_r', 'dsk_pectoralis_r', 'end_dsk_pectoralis_r'),
	('dsk_scapula_r', None, 'sk_shoulder_r', 'dsk_scapula_r', 'end_dsk_scapula_r'),
	('dsk_trapezius_r', None, 'sk_shoulder_r', 'dsk_trapezius_r', 'end_dsk_trapezius_r'),
	
	('sk_upperarm_l', 'sk_shoulder_l', 'sk_shoulder_l', 'sk_upperarm_l', 'sk_forearm_l'),
	('dsk_upperarm_l', None, 'sk_upperarm_l', 'sk_upperarm_l', 'sk_forearm_l'),
	('dsk_upperarm_long_l', None, 'dsk_upperarm_l', 'sk_upperarm_l', 'sk_forearm_l'),
	('sk_forearm_l', 'sk_upperarm_l', 'sk_upperarm_l', 'sk_forearm_l', 'sk_hand_l'),
	('dsk_elbow_l', None, 'sk_forearm_l', 'sk_forearm_l', 'dsk_elbow_l'),
	('dsk_forearm_t_l', None, 'sk_forearm_l', 'sk_forearm_l', 'dsk_forearm_l'),
	('dsk_forearm_l', None, 'dsk_forearm_t_l', 'dsk_forearm_l', 'sk_hand_l'),
	('sk_hand_l', 'sk_forearm_l', 'sk_forearm_l', 'sk_hand_l', 'end_sk_hand_l'),
	('dsk_wrist_l', None, 'sk_hand_l', 'sk_hand_l', 'end_dsk_wrist_l'),
	
	('sk_upperarm_r', 'sk_shoulder_r', 'sk_shoulder_r', 'sk_upperarm_r', 'sk_forearm_r'),
	('dsk_upperarm_r', None, 'sk_upperarm_r', 'sk_upperarm_r', 'sk_forearm_r'),
	('dsk_upperarm_long_r', None, 'dsk_upperarm_r', 'sk_upperarm_r', 'sk_forearm_r'),
	('sk_forearm_r', 'sk_upperarm_r', 'sk_upperarm_r', 'sk_forearm_r', 'sk_hand_r'),
	('dsk_elbow_r', None, 'sk_forearm_r', 'sk_forearm_r', 'dsk_elbow_r'),
	('dsk_forearm_t_r', None, 'sk_forearm_r', 'sk_forearm_r', 'dsk_forearm_r'),
	('dsk_forearm_r', None, 'dsk_forearm_t_r', 'dsk_forearm_r', 'sk_hand_r'),
	('sk_hand_r', 'sk_forearm_r', 'sk_forearm_r', 'sk_hand_r', 'end_sk_hand_r'),
	('dsk_wrist_r', None, 'sk_hand_r', 'sk_hand_r', 'end_dsk_wrist_r'),
	
	('sk_thigh_l', 'dsk_hip', 'dsk_hip', 'sk_thigh_l', 'sk_leg_l'),
	('sk_leg_l', 'sk_thigh_l', 'sk_thigh_l', 'sk_leg_l', 'sk_foot_l'),
	('dsk_knee_l', None, 'sk_leg_l', 'sk_leg_l', 'dsk_knee_l'),
	('sk_foot_l', 'sk_leg_l', 'sk_leg_l', 'sk_foot_l', 'dsk_toe_l'),
	('dsk_foot_l', None, 'sk_foot_l', 'sk_foot_l', 'dsk_toe_l'),
	('dsk_toe_l', None, 'sk_foot_l', 'dsk_toe_l', 'tip_dsk_toe_l'),
	
	('sk_thigh_r', 'dsk_hip', 'dsk_hip', 'sk_thigh_r', 'sk_leg_r'),
	('sk_leg_r', 'sk_thigh_r', 'sk_thigh_r', 'sk_leg_r', 'sk_foot_r'),
	('dsk_knee_r', None, 'sk_leg_r', 'sk_leg_r', 'dsk_knee_r'),
	('sk_foot_r', 'sk_leg_r', 'sk_leg_r', 'sk_foot_r', 'dsk_toe_r'),
	('dsk_foot_r', None, 'sk_foot_r', 'sk_foot_r', 'dsk_toe_r'),
	('dsk_toe_r', None, 'sk_foot_r', 'dsk_toe_r', 'tip_dsk_toe_r'),
	
	('dsk_belly_scale', None, 'sk_belly', 'dsk_belly_scale', 'end_dsk_belly_scale'),
	('dsk_collar_l', None, 'sk_neck', 'dsk_collar_l', 'end_dsk_collar_l'),
	('dsk_collar_r', None, 'sk_neck', 'dsk_collar_r', 'end_dsk_collar_r'),
	
	('dsk_hem_l', None, 'dsk_belly_scale', 'dsk_hem_l', 'end_dsk_hem_l'),
	('dsk_hem_r', None, 'dsk_belly_scale', 'dsk_hem_r', 'end_dsk_hem_r'),
	('dsk_hem_ba_l', None, 'dsk_hem_l', 'dsk_hem_ba_l', 'end_dsk_hem_ba_l'),
	('dsk_hem_ba_r', None, 'dsk_hem_r', 'dsk_hem_ba_r', 'end_dsk_hem_ba_r'),
	('dsk_hem_f_l', None, 'dsk_hem_l', 'dsk_hem_f_l', 'end_dsk_hem_f_l'),
	('dsk_hem_f_r', None, 'dsk_hem_r', 'dsk_hem_f_r', 'end_dsk_hem_f_r'),
	('dsk_hem_i_l', None, 'dsk_hem_l', 'dsk_hem_i_l', 'end_dsk_hem_i_l'),
	('dsk_hem_i_r', None, 'dsk_hem_r', 'dsk_hem_i_r', 'end_dsk_hem_i_r'),
	('dsk_hem_o_l', None, 'dsk_hem_l', 'dsk_hem_o_l', 'end_dsk_hem_o_l'),
	('dsk_hem_o_r', None, 'dsk_hem_r', 'dsk_hem_o_r', 'end_dsk_hem_o_r'),
	
	('skh_thumb_mata_l', None, 'sk_hand_l', 'skh_thumb_mata_l', 'skh_thumb_mcp_l'),
	('skh_thumb_mcp_l', 'skh_thumb_mata_l', 'skh_thumb_mata_l', 'skh_thumb_mcp_l', 'skh_thumb_pip_l'),
	('skh_thumb_pip_l', 'skh_thumb_mcp_l', 'skh_thumb_mcp_l', 'skh_thumb_pip_l', 'end_skh_thumb_pip_l'),
	('skh_index_mata_l', None, 'sk_hand_l', 'skh_index_mata_l', 'skh_index_mcp_l'),
	('skh_index_mcp_l', 'skh_index_mata_l', 'skh_index_mata_l', 'skh_index_mcp_l', 'skh_index_pip_l'),
	('skh_index_pip_l', 'skh_index_mcp_l', 'skh_index_mcp_l', 'skh_index_pip_l', 'skh_index_dip_l'),
	('skh_index_dip_l', 'skh_index_pip_l', 'skh_index_pip_l', 'skh_index_dip_l', 'end_skh_index_dip_l'),
	('skh_middle_mata_l', None, 'sk_hand_l', 'skh_middle_mata_l', 'skh_middle_mcp_l'),
	('skh_middle_mcp_l', 'skh_middle_mata_l', 'skh_middle_mata_l', 'skh_middle_mcp_l', 'skh_middle_pip_l'),
	('skh_middle_pip_l', 'skh_middle_mcp_l', 'skh_middle_mcp_l', 'skh_middle_pip_l', 'skh_middle_dip_l'),
	('skh_middle_dip_l', 'skh_middle_pip_l', 'skh_middle_pip_l', 'skh_middle_dip_l', 'end_skh_middle_dip_l'),
	('skh_ring_mata_l', None, 'sk_hand_l', 'skh_ring_mata_l', 'skh_ring_mcp_l'),
	('skh_ring_mcp_l', 'skh_ring_mata_l', 'skh_ring_mata_l', 'skh_ring_mcp_l', 'skh_ring_pip_l'),
	('skh_ring_pip_l', 'skh_ring_mcp_l', 'skh_ring_mcp_l', 'skh_ring_pip_l', 'skh_ring_dip_l'),
	('skh_ring_dip_l', 'skh_ring_pip_l', 'skh_ring_pip_l', 'skh_ring_dip_l', 'end_skh_ring_dip_l'),
	('skh_pinky_mata_l', None, 'sk_hand_l', 'skh_pinky_mata_l', 'skh_pinky_mcp_l'),
	('skh_pinky_mcp_l', 'skh_pinky_mata_l', 'skh_pinky_mata_l', 'skh_pinky_mcp_l', 'skh_pinky_pip_l'),
	('skh_pinky_pip_l', 'skh_pinky_mcp_l', 'skh_pinky_mcp_l', 'skh_pinky_pip_l', 'skh_pinky_dip_l'),
	('skh_pinky_dip_l', 'skh_pinky_pip_l', 'skh_pinky_pip_l', 'skh_pinky_dip_l', 'end_skh_pinky_dip_l'),
	
	('skh_thumb_mata_r', None, 'sk_hand_r', 'skh_thumb_mata_r', 'skh_thumb_mcp_r'),
	('skh_thumb_mcp_r', 'skh_thumb_mata_r', 'skh_thumb_mata_r', 'skh_thumb_mcp_r', 'skh_thumb_pip_r'),
	('skh_thumb_pip_r', 'skh_thumb_mcp_r', 'skh_thumb_mcp_r', 'skh_thumb_pip_r', 'end_skh_thumb_pip_r'),
	('skh_index_mata_r', None, 'sk_hand_r', 'skh_index_mata_r', 'skh_index_mcp_r'),
	('skh_index_mcp_r', 'skh_index_mata_r', 'skh_index_mata_r', 'skh_index_mcp_r', 'skh_index_pip_r'),
	('skh_index_pip_r', 'skh_index_mcp_r', 'skh_index_mcp_r', 'skh_index_pip_r', 'skh_index_dip_r'),
	('skh_index_dip_r', 'skh_index_pip_r', 'skh_index_pip_r', 'skh_index_dip_r', 'end_skh_index_dip_r'),
	('skh_middle_mata_r', None, 'sk_hand_r', 'skh_middle_mata_r', 'skh_middle_mcp_r'),
	('skh_middle_mcp_r', 'skh_middle_mata_r', 'skh_middle_mata_r', 'skh_middle_mcp_r', 'skh_middle_pip_r'),
	('skh_middle_pip_r', 'skh_middle_mcp_r', 'skh_middle_mcp_r', 'skh_middle_pip_r', 'skh_middle_dip_r'),
	('skh_middle_dip_r', 'skh_middle_pip_r', 'skh_middle_pip_r', 'skh_middle_dip_r', 'end_skh_middle_dip_r'),
	('skh_ring_mata_r', None, 'sk_hand_r', 'skh_ring_mata_r', 'skh_ring_mcp_r'),
	('skh_ring_mcp_r', 'skh_ring_mata_r', 'skh_ring_mata_r', 'skh_ring_mcp_r', 'skh_ring_pip_r'),
	('skh_ring_pip_r', 'skh_ring_mcp_r', 'skh_ring_mcp_r', 'skh_ring_pip_r', 'skh_ring_dip_r'),
	('skh_ring_dip_r', 'skh_ring_pip_r', 'skh_ring_pip_r', 'skh_ring_dip_r', 'end_skh_ring_dip_r'),
	('skh_pinky_mata_r', None, 'sk_hand_r', 'skh_pinky_mata_r', 'skh_pinky_mcp_r'),
	('skh_pinky_mcp_r', 'skh_pinky_mata_r', 'skh_pinky_mata_r', 'skh_pinky_mcp_r', 'skh_pinky_pip_r'),
	('skh_pinky_pip_r', 'skh_pinky_mcp_r', 'skh_pinky_mcp_r', 'skh_pinky_pip_r', 'skh_pinky_dip_r'),
	('skh_pinky_dip_r', 'skh_pinky_pip_r', 'skh_pinky_pip_r', 'skh_pinky_dip_r', 'end_skh_pinky_dip_r'),
	
	('dsk_hair', None, 'sk_head', 'sk_head', 'dsk_hair'),
	('skf_jaw', None, 'sk_head', 'skf_jaw', 'end_skf_jaw'),
	('dsk_earlobe_l', 'dsk_ear_b_l', 'dsk_ear_b_l', 'dsk_ear_b_l', 'dsk_earlobe_l'),
	('dsk_earlobe_r', 'dsk_ear_b_r', 'dsk_ear_b_r', 'dsk_ear_b_r', 'dsk_earlobe_r'),
	('dsk_ear_t_l', None, 'dsk_ear_b_l', 'dsk_ear_b_l', 'dsk_ear_t_l'),
	('dsk_ear_t_r', None, 'dsk_ear_b_r', 'dsk_ear_b_r', 'dsk_ear_t_r'),
]:
	bones[name] = Bone(name, sklParent, renderParent, bonePosition(startPosition), bonePosition(endPosition), _matrices[name])


#
# Face bones seem to be point bones rather than vector bones.
# Render them as an approximate normal vector with meaningless size.
#
for (name, renderParent, directionVector) in [
	('dsk_ear_b_l', 'sk_head', (1, 0, 0)),
	('dsk_ear_b_r', 'sk_head', (-1, 0, 0)),
	('skf_brow_o_l', 'skf_glabella', (0, 0, 1)),
	('skf_brow_i_l', 'skf_glabella', (0, 0, 1)),
	('skf_brow_i_r', 'skf_glabella', (0, 0, 1)),
	('skf_brow_o_r', 'skf_glabella', (0, 0, 1)),
	('skf_glabella', 'sk_head', (0, 0, 1)),
	('skf_eyelid_t_l', 'skf_eye_l', (0, 1, 1)),
	('skf_eyelid_t_r', 'skf_eye_r', (0, 1, 1)),
	('skf_eyelid_b_l', 'skf_eye_l', (0, -1, 1)),
	('skf_eyelid_b_r', 'skf_eye_r', (0, -1, 1)),
	('skf_eye_l', 'skf_glabella', (0, 0, 1)),
	('skf_eye_r', 'skf_glabella', (0, 0, 1)),
	('skf_nose', 'sk_head', (0, 0, 1)),
	('skf_nosewing_l', 'skf_nose', (1, 0, 1)),
	('skf_nosewing_r', 'skf_nose', (-1, 0, 1)),
	('skf_cheek_l', 'skf_jaw', (0, 0, 1)),
	('skf_cheek_r', 'skf_jaw', (0, 0, 1)),
	('skf_orbicularisoculi_b_r', 'skf_glabella',(0, 0, 1)),
	('skf_orbicularisoculi_b_l', 'skf_glabella',(0, 0, 1)),
	('skf_cheek_s_l', 'skf_jaw', (0, 0, 1)),
	('skf_cheek_s_r', 'skf_jaw', (0, 0, 1)),
	('skf_nasolabialfold_t_l', 'skf_nose', (0, 0, 1)),
	('skf_nasolabialfold_t_r', 'skf_nose', (0, 0, 1)),
	('skf_lip_t_l', 'skf_lip_volume', (0, 1, 1)),
	('skf_lip_t_c', 'skf_lip_volume', (0, 1, 1)),
	('skf_lip_t_r', 'skf_lip_volume', (0, 1, 1)),
	('skf_lip_volume', 'skf_jaw', (0, 0, 1)),
	('skf_lip_s_l', 'skf_lip_volume', (1, 0, 1)),
	('skf_lip_s_r', 'skf_lip_volume', (-1, 0, 1)),
	('skf_lip_b_l', 'skf_lip_volume', (0, -1, 1)),
	('skf_lip_b_r', 'skf_lip_volume', (0, -1, 1)),
	('skf_doublechin', 'skf_jaw', (0, 0, 1)),
	('skf_lip_b_c', 'skf_lip_volume', (0, -1, 1)),
]:
	directionVectorLength = sum([c ** 2 for c in directionVector]) ** 0.5
	scaledDirectionVector = tuple(c / directionVectorLength * 0.005 for c in directionVector)
	startPosition = bonePosition(name)
	endPosition = tuple(startPosition[i] + scaledDirectionVector[i] for i in range(len(scaledDirectionVector)))
	bones[name] = Bone(name, None, renderParent, startPosition, endPosition, _matrices[name])

